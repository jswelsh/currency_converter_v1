{"ast":null,"code":"var _jsxFileName = \"/home/ody7/lighthouse/repos/currency_converters/currency_converter_v1/src/App.js\";\n\nclass App extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(CurrencyConverter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nclass CurrencyConverter extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      baseCurrency: 'GBP',\n      convertToCurrency: 'USD',\n      baseAmount: 100,\n      rates: [],\n      currencies: []\n    };\n    this.changeBaseCurrency = this.changeBaseCurrency.bind(this);\n    this.changeConvertToCurrency = this.changeConvertToCurrency.bind(this);\n    this.changeBaseAmount = this.changeBaseAmount.bind(this);\n    this.getConvertedCurrency = this.getConvertedCurrency.bind(this);\n    this.callAPI = this.callAPI.bind(this);\n  }\n\n  componentDidMount() {\n    this.callAPI(this.state.baseCurrency);\n  }\n\n  changeBaseCurrency(e) {\n    this.setState({\n      baseCurrency: e.target.value\n    });\n    this.callAPI(e.target.value);\n  }\n\n  callAPI(base) {\n    const api = `https://api.exchangeratesapi.io/latest?base=${base}`;\n    fetch(api).then(results => {\n      return results.json();\n    }).then(data => this.setState({\n      rates: data['rates'],\n      currencies: Object.keys(data['rates']).sort()\n    }));\n  }\n\n  changeConvertToCurrency(e) {\n    this.setState({\n      convertToCurrency: e.target.value\n    });\n  }\n\n  changeBaseAmount(e) {\n    this.setState({\n      baseAmount: e.target.value\n    });\n  }\n\n  getConvertedCurrency(baseAmount, convertToCurrency, rates) {\n    return Number.parseFloat(baseAmount * rates[convertToCurrency]).toFixed(3);\n  }\n\n  render() {\n    const {\n      currencies,\n      rates,\n      baseCurrency,\n      baseAmount,\n      convertToCurrency\n    } = this.state;\n    const currencyChoice = currencies.map(currency => /*#__PURE__*/React.createElement(\"option\", {\n      key: currency,\n      value: currency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, \" \", currency, \" \"));\n    const result = this.getConvertedCurrency(baseAmount, convertToCurrency, rates);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"ui mini form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 10\n      }\n    }, \"Convert from: \", baseCurrency), /*#__PURE__*/React.createElement(\"select\", {\n      value: baseCurrency,\n      onChange: this.changeBaseCurrency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, currencyChoice, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, baseCurrency)), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, \"Convert to: \", convertToCurrency), /*#__PURE__*/React.createElement(\"select\", {\n      value: convertToCurrency,\n      onChange: this.changeConvertToCurrency,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, currencyChoice), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 10\n      }\n    }, \"Amount:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"base-amount\",\n      defaultValue: baseAmount,\n      onChange: this.changeBaseAmount,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 12\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"result-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 8\n      }\n    }, baseAmount, \" \", baseCurrency, \" is equal to \", result, \" \", convertToCurrency));\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 3\n  }\n}), document.getElementById('app'));","map":{"version":3,"sources":["/home/ody7/lighthouse/repos/currency_converters/currency_converter_v1/src/App.js"],"names":["App","React","Component","render","CurrencyConverter","constructor","state","baseCurrency","convertToCurrency","baseAmount","rates","currencies","changeBaseCurrency","bind","changeConvertToCurrency","changeBaseAmount","getConvertedCurrency","callAPI","componentDidMount","e","setState","target","value","base","api","fetch","then","results","json","data","Object","keys","sort","Number","parseFloat","toFixed","currencyChoice","map","currency","result","ReactDOM","document","getElementById"],"mappings":"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","sourcesContent":["class App extends React.Component {\n  \n  render() {\n    return (\n      <CurrencyConverter/>\n    )  \n  }  \n}\n\nclass CurrencyConverter extends React.Component {\n  constructor() {\n    super();\n    \n    this.state = {\n      baseCurrency:'GBP',\n      convertToCurrency:'USD',\n      baseAmount: 100,\n      rates: [],\n      currencies: []\n    };\n    \n    this.changeBaseCurrency = this.changeBaseCurrency.bind(this);\n    this.changeConvertToCurrency = this.changeConvertToCurrency.bind(this);\n    this.changeBaseAmount = this.changeBaseAmount.bind(this);\n    this.getConvertedCurrency = this.getConvertedCurrency.bind(this);\n    this.callAPI = this.callAPI.bind(this);\n  }\n  \n  componentDidMount() {\n   this.callAPI(this.state.baseCurrency)\n  }\n  \n  changeBaseCurrency(e) {\n    this.setState({ baseCurrency: e.target.value});\n    this.callAPI(e.target.value)\n    \n  }\n  \n callAPI(base) {\n   const api = `https://api.exchangeratesapi.io/latest?base=${base}`;\n    \n    fetch(api)\n     .then(results => {\n        return results.json();\n    }).then(data => this.setState({\n      rates: data['rates'],\n      currencies: Object.keys(data['rates']).sort()\n    }));\n   \n } \n  \n  \n  changeConvertToCurrency(e) {\n    this.setState({\n      convertToCurrency: e.target.value\n    });\n  }\n  \n  changeBaseAmount(e) {\n   this.setState({\n     baseAmount: e.target.value\n   });\n  }\n  \n  getConvertedCurrency(baseAmount,convertToCurrency,rates) {\n      return Number.parseFloat(baseAmount * rates[convertToCurrency]).toFixed(3);\n  }\n  \n  render() {\n    const {currencies,rates,baseCurrency,baseAmount,convertToCurrency} = this.state;\n    \n    const currencyChoice = currencies.map(currency =>\n      <option key={currency} value={currency}> {currency} </option>      \n    );\n                                          \n    const result = this.getConvertedCurrency(baseAmount, convertToCurrency, rates);\n    \n    \n    return(\n      <div className=\"form-container\">\n        <form className='ui mini form'>\n        \n         <h3>Convert from: {baseCurrency}</h3>\n          <select  value={baseCurrency} onChange={this.changeBaseCurrency}>\n            {currencyChoice}\n            <option>{baseCurrency}</option>\n          </select>\n        \n          <h3>Convert to: {convertToCurrency}</h3>\n          <select value={convertToCurrency} onChange={this.changeConvertToCurrency}>\n            {currencyChoice}\n          </select>\n        \n         <h3>Amount:</h3>\n           <input type='number' \n                  id='base-amount' \n                  defaultValue={baseAmount} \n                  onChange={this.changeBaseAmount}>\n          </input>                             \n       </form>                       \n       <h2 id='result-text'>{baseAmount} {baseCurrency} is equal to {result} {convertToCurrency}</h2>\n     </div>\n    );\n  }\n}\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('app')\n);"]},"metadata":{},"sourceType":"module"}