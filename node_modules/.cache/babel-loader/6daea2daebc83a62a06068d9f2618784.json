{"ast":null,"code":"import { useEffect, useReducer } from \"react\";\nimport axios from 'axios'; //const SET_APP_DATA = \"SET_APP_DATA\";\n\nconst SET_CURRENCY_LIST = \"SET_CURRENCY_LIST\";\nconst SET_FROM_CURRENCY = \"SET_FROM_CURRENCY\";\nconst SET_TO_CURRENCY = \"SET_TO_CURRENCY\";\nconst SET_RESULT = \"SET_RESULT\";\nconst SET_HISTORY = \"SET_HISTORY\";\nconst SET_MODE = \"SET_MODE\";\nconst getCurrencies = axios.get(\"https://api.exchangeratesapi.io/latest\");\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_CURRENCY_LIST\":\n      return { ...state,\n        currenciesList: action.currenciesList\n      };\n\n    case \"SET_FROM_CURRENCY\":\n      return { ...state,\n        fromCurrency: action.currency\n      };\n\n    case \"SET_TO_CURRENCY\":\n      return { ...state,\n        toCurrency: action.currency\n      };\n\n    case \"SET_RESULT\":\n      return { ...state,\n        result: action.result\n      };\n\n    case \"SET_HISTORY\":\n      return { ...state,\n        history: action.history\n      };\n\n    case \"SET_MODE\":\n      return { ...state,\n        mode: action.mode\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nexport default function useAppData() {\n  const [state, dispatch] = useReducer(reducer, {\n    result: null,\n    fromCurrency: \"CAD\",\n    toCurrency: \"USD\",\n    amount: 1,\n    currenciesList: [],\n    history: [],\n    mode: \"latest\"\n  });\n  useEffect(() => {\n    getCurrencies.then(res => {\n      const currenciesList = []; //setting up avb currencies to choose from\n\n      for (const key in res.data.rates) {\n        currenciesList.push(key);\n      }\n\n      console.log(res);\n      dispatch({\n        type: SET_CURRENCY_LIST,\n        currenciesList: currenciesList\n      });\n    }).catch(err => {\n      console.log(\"Something went wrong\", err);\n    });\n  }, []); // Empty array to only run once on mount.\n\n  const setFromCurrency = currency => {\n    dispatch({\n      type: SET_FROM_CURRENCY,\n      currency\n    });\n  };\n\n  const setToCurrency = currency => {\n    dispatch({\n      type: SET_TO_CURRENCY,\n      currency\n    });\n  };\n\n  const setResult = result => {\n    dispatch({\n      type: SET_RESULT,\n      result\n    });\n  };\n\n  const setHistory = history => {\n    dispatch({\n      type: SET_HISTORY,\n      history\n    });\n  };\n\n  const setMode = mode => {\n    dispatch({\n      type: SET_MODE,\n      mode\n    });\n  };\n\n  const selectHandler = e => {\n    const funcChain = value => {\n      setMode(value);\n      convertHandler();\n    };\n\n    switch (e.target.name) {\n      case \"from\":\n        setFromCurrency(e.target.value);\n        break;\n\n      case \"to\":\n        setToCurrency(e.target.value);\n        break;\n\n      case \"latest\":\n        funcChain(e.target.value);\n        break;\n\n      case \"history\":\n        funcChain(e.target.value);\n        /*         setMode(e.target.value)\n                convertHandler() */\n\n        break;\n\n      default:\n        break;\n    }\n\n    if (e.target.name === \"from\") {\n      setFromCurrency(e.target.value);\n    } else if (e.target.name === \"to\") {\n      setToCurrency(e.target.value);\n    }\n  };\n\n  const convertHandler = () => {\n    /* const latestURL = \"latest\" */\n\n    /*     const historicalURL = \"history?start_at=2020-09-01&end_at=2020-09-17&\";\n    */\n\n    /* need to make mode state */\n    let URL = state.mode === \"latest\" ? \"latest\" : state.mode === \"history\" ? \"history?start_at=2020-09-01&end_at=2020-09-17&\" : null;\n\n    if (state.fromCurrency !== state.toCurrency) {\n      axios.get(`https://api.exchangeratesapi.io/${URL}base=${\n      /* latestURL}base=${ */\n      state.fromCurrency}&symbols=${state.toCurrency}`).then(res => {\n        /*        const result = \n                  state.amount * res.data.rates[state.toCurrency];\n                  setResult(result.toFixed(5)); */\n        if (state.mode === \"latest\") {\n          setResult(state.amount * res.data.rates[state.toCurrency].toFixed(5));\n        } else if (state.mode === \"history\") {\n          let historyController = historyObj => {\n            let history = [];\n\n            for (const [key, value] of Object.entries(historyObj)) {\n              history.push({\n                \"date\": new Date(key),\n                \"value\": value[state.toCurrency]\n              });\n            }\n\n            return history;\n          };\n\n          setHistory(historyController(res.data.rates).sort((a, b) => b.date - a.date));\n        }\n      }).catch(error => {\n        console.log(\"Opps\", error.message);\n      });\n    } else {\n      setResult(\"You cant convert the same currency!\");\n    }\n  };\n\n  const convertHistoryHandler = e => {\n    const historicalURL = \"https://api.exchangeratesapi.io/history?start_at=2020-09-01&end_at=2020-09-17&\";\n\n    if (state.fromCurrency !== state.toCurrency) {\n      axios.get(`${historicalURL}base=${state.fromCurrency}&symbols=${state.toCurrency}`).then(res => {\n        let historyController = historyObj => {\n          let history = [];\n\n          for (const [key, value] of Object.entries(historyObj)) {\n            history.push({\n              \"date\": new Date(key),\n              \"value\": value[state.toCurrency]\n            });\n          }\n\n          return history;\n        };\n        /* sort the dates from \"res\" = {obj} payload */\n\n\n        setHistory(historyController(res.data.rates).sort((a, b) => b.date - a.date));\n      }).catch(error => {\n        console.log(\"Opps\", error.message);\n      });\n    } else {\n      setResult(\"You can't convert the same currency!\");\n    }\n  };\n\n  return {\n    state,\n    convertHandler,\n    convertHistoryHandler,\n    selectHandler\n  };\n}","map":{"version":3,"sources":["/home/ody7/lighthouse/repos/currency_converters/currency_converter_v1/src/hooks/useAppData.js"],"names":["useEffect","useReducer","axios","SET_CURRENCY_LIST","SET_FROM_CURRENCY","SET_TO_CURRENCY","SET_RESULT","SET_HISTORY","SET_MODE","getCurrencies","get","reducer","state","action","type","currenciesList","fromCurrency","currency","toCurrency","result","history","mode","Error","useAppData","dispatch","amount","then","res","key","data","rates","push","console","log","catch","err","setFromCurrency","setToCurrency","setResult","setHistory","setMode","selectHandler","e","funcChain","value","convertHandler","target","name","URL","toFixed","historyController","historyObj","Object","entries","Date","sort","a","b","date","error","message","convertHistoryHandler","historicalURL"],"mappings":"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","sourcesContent":["import { useEffect, useReducer } from \"react\";\nimport axios from 'axios';\n\n//const SET_APP_DATA = \"SET_APP_DATA\";\nconst SET_CURRENCY_LIST = \"SET_CURRENCY_LIST\";\nconst SET_FROM_CURRENCY = \"SET_FROM_CURRENCY\";\nconst SET_TO_CURRENCY = \"SET_TO_CURRENCY\";\nconst SET_RESULT = \"SET_RESULT\";\nconst SET_HISTORY = \"SET_HISTORY\";\nconst SET_MODE = \"SET_MODE\";\n\nconst getCurrencies = axios.get(\"https://api.exchangeratesapi.io/latest\")\n\nconst reducer = (state, action) => {\n  switch(action.type) {\n    case \"SET_CURRENCY_LIST\":\n      return {...state, currenciesList: action.currenciesList}\n    case \"SET_FROM_CURRENCY\":\n      return {...state, fromCurrency: action.currency}\n    case \"SET_TO_CURRENCY\":\n      return {...state, toCurrency: action.currency}\n    case \"SET_RESULT\":\n      return {...state, result: action.result}\n    case \"SET_HISTORY\":\n      return {...state, history: action.history}\n    case \"SET_MODE\":\n      return {...state, mode: action.mode}\n    default:\n      throw new Error();\n  }\n}\nexport default function useAppData() {\n\n  const [state, dispatch] = useReducer(reducer, {\n    result: null,\n    fromCurrency: \"CAD\",\n    toCurrency: \"USD\",\n    amount: 1,\n    currenciesList: [],\n    history: [],\n    mode: \"latest\"\n  })\n\n  useEffect(() => {\n    getCurrencies\n      .then(res => {\n        const currenciesList = [];\n        //setting up avb currencies to choose from\n        for (const key in res.data.rates) {\n          currenciesList.push(key);\n        }\n        console.log(res)\n        dispatch({\n          type: SET_CURRENCY_LIST,\n          currenciesList: currenciesList\n        });\n      })\n      .catch(err => {\n        console.log(\"Something went wrong\", err);\n      });\n  }, []); // Empty array to only run once on mount.\n\n  const setFromCurrency = (currency) => {dispatch({type:SET_FROM_CURRENCY, currency})};\n  const setToCurrency = (currency) => {dispatch({type:SET_TO_CURRENCY, currency})};\n  const setResult = (result) => {dispatch({type:SET_RESULT, result})};\n  const setHistory = (history) => {dispatch({type:SET_HISTORY, history})};\n  const setMode = (mode) => {dispatch({type:SET_MODE, mode})};\n\n  const selectHandler = e => {\n    const funcChain = (value) => {\n      setMode(value)\n      convertHandler()\n    }\n    switch (e.target.name) {\n      case \"from\":\n        setFromCurrency(e.target.value)\n        break;\n      case \"to\":\n        setToCurrency(e.target.value)\n        break;\n      case \"latest\":\n        funcChain(e.target.value)\n        break;\n      case \"history\":\n        funcChain(e.target.value)\n/*         setMode(e.target.value)\n        convertHandler() */\n        break;\n      default:\n        break;\n    }\n    if (e.target.name === \"from\") {  \n      setFromCurrency(e.target.value) \n    } else if (e.target.name === \"to\") {\n        setToCurrency(e.target.value)\n      }\n  }\n\n  const convertHandler = () => {\n    /* const latestURL = \"latest\" */\n/*     const historicalURL = \"history?start_at=2020-09-01&end_at=2020-09-17&\";\n*/\n    /* need to make mode state */\n    let URL = (state.mode === \"latest\") ? \"latest\" : \n              (state.mode === \"history\") ? \"history?start_at=2020-09-01&end_at=2020-09-17&\":\n              null\n\n    if (state.fromCurrency !== state.toCurrency) {  \n      axios\n        .get(`https://api.exchangeratesapi.io/${\n          URL}base=${\n          /* latestURL}base=${ */\n          state.fromCurrency}&symbols=${\n          state.toCurrency}`\n        )\n        .then(res => {\n/*        const result = \n          state.amount * res.data.rates[state.toCurrency];\n          setResult(result.toFixed(5)); */\n          if (state.mode === \"latest\") {\n            setResult(state.amount * res.data.rates[state.toCurrency].toFixed(5))\n          } else if (state.mode === \"history\") {\n            let historyController = (historyObj) => {\n              let history = []\n              for (const [key, value] of Object.entries(historyObj)) { \n                history.push({\n                  \"date\" : new Date(key), \n                  \"value\" : value[state.toCurrency]\n                })\n              }\n              return history\n            }\n            setHistory(\n              historyController(res.data.rates)\n              .sort((a, b) => b.date - a.date)\n            )\n          }\n        })\n        .catch(error => {\n          console.log(\"Opps\", error.message);\n        });\n    } else {\n      setResult(\"You cant convert the same currency!\");\n    }\n  };\n  \n  const convertHistoryHandler = (e) => {\n    const historicalURL = \"https://api.exchangeratesapi.io/history?start_at=2020-09-01&end_at=2020-09-17&\";\n\n    if (state.fromCurrency !== state.toCurrency) {  \n      axios\n        .get(`${\n          historicalURL}base=${\n          state.fromCurrency}&symbols=${\n          state.toCurrency}`\n        )\n        .then(res => {\n          let historyController = (historyObj) => {\n            let history = []\n            for (const [key, value] of Object.entries(historyObj)) { \n              history.push({\n                \"date\" : new Date(key), \n                \"value\" : value[state.toCurrency]\n              })}\n            return history\n          }\n          /* sort the dates from \"res\" = {obj} payload */\n          setHistory(\n            historyController(res.data.rates)\n            .sort((a, b) => b.date - a.date)\n          )\n        })\n        .catch(error => {\n          console.log(\"Opps\", error.message);\n        });\n    } else {\n      setResult(\"You can't convert the same currency!\");\n    }\n  };\n\n  return {\n    state,\n    convertHandler,\n    convertHistoryHandler,\n    selectHandler\n  }\n}"]},"metadata":{},"sourceType":"module"}